---
import Headline from '@/components/ui/Headline.astro';
import WidgetWrapper from '@/components/ui/WidgetWrapper.astro';
import CustomImage from '@/components/common/CustomImage.astro';
import { cn } from '@/utils/cn';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  description = await Astro.slots.render('description'),
  tagline = await Astro.slots.render('tagline'),
  items = [],
  isBeforeContent,
  isAfterContent,

  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render('bg'),
} = Astro.props;
---

<WidgetWrapper
  id={id}
  isDark={isDark}
  containerClass={`${isBeforeContent ? 'md:pb-8 lg:pb-12' : ''} ${isAfterContent ? 'pt-0 md:pt-0 lg:pt-0' : ''} ${
    classes?.container ?? ''
  }`}
  bg={bg}
>
  <Headline
    title={title}
    subtitle={subtitle}
    tagline={tagline}
    description={description}
    classes={classes?.headline as Record<string, string>}
  />
  <div class="mt-10 grid grid-cols-1 gap-4 sm:mt-16 lg:grid-cols-6 lg:grid-rows-2">
    <div class="flex p-px lg:col-span-4">
      <div
        class={cn(
          'overflow-hidden rounded-lg bg-gray-800 ring-1 ring-white/15 max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem]',
          classes?.block
        )}
      >
        <CustomImage alt={items[0]?.image?.alt} src={items[0]?.image?.src} class="h-80 object-cover object-left" />
        <div class="p-10">
          <p class="text-lg/4 font-semibold text-gray-400" set:html={items[0]?.tagline} />
          <h3 class="mt-2 text-xl font-bold text-white" set:html={items[0]?.title} />
          <p class="mt-2 max-w-lg text-lg/6 text-gray-400" set:html={items[0]?.description} />
        </div>
      </div>
    </div>
    <div class="flex p-px lg:col-span-2">
      <div class="overflow-hidden rounded-lg bg-gray-800 ring-1 ring-white/15 lg:rounded-tr-[2rem]">
        <CustomImage alt={items[0]?.image?.alt} src={items[1]?.image?.src} class="h-80 object-cover" />
        <div class="p-10">
          <p class="text-lg/4 font-semibold text-gray-400" set:html={items[1]?.tagline} />
          <h3 class="mt-2 text-xl font-bold text-white" set:html={items[1]?.title} />
          <p class="mt-2 max-w-lg text-lg/6 text-gray-400" set:html={items[1]?.description} />
        </div>
      </div>
    </div>
    <div class="flex p-px lg:col-span-2">
      <div class="overflow-hidden rounded-lg bg-gray-800 ring-1 ring-white/15 lg:rounded-bl-[2rem]">
        <CustomImage alt={items[0]?.image?.alt} src={items[2]?.image?.src} class="h-80 object-cover" />
        <div class="p-10">
          <p class="text-lg/4 font-semibold text-gray-400" set:html={items[2]?.tagline} />
          <h3 class="mt-2 text-xl font-bold text-white" set:html={items[2]?.title} />
          <p class="mt-2 max-w-lg text-lg/6 text-gray-400" set:html={items[2]?.description} />
        </div>
      </div>
    </div>
    <div class="flex p-px lg:col-span-4">
      <div
        class="overflow-hidden rounded-lg bg-gray-800 ring-1 ring-white/15 max-lg:rounded-b-[2rem] lg:rounded-br-[2rem]"
      >
        <CustomImage alt={items[0]?.image?.alt} src={items[3]?.image?.src} class="h-80 object-cover object-left" />
        <div class="p-10">
          <h3 class="text-lg/4 font-semibold text-gray-400" set:html={items[3]?.tagline} />
          <p class="mt-2 text-xl font-bold text-white" set:html={items[3]?.title} />
          <p class="mt-2 max-w-lg text-lg/6 text-gray-400" set:html={items[3]?.description} />
        </div>
      </div>
    </div>
  </div>
</WidgetWrapper>
